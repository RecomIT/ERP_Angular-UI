<div class="login-wrapper-bg form-login-body bg-white">

    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto login-desk">
                <div class="row">
                    <div class="col-md-7 detail-box">
                        <img class="logo" src="assets/img/Svg/recom_logo.svg" alt="">
                        <div class="detailsh">
                            <h2>Two step Varification</h2>
                            <img class="help" src="assets/img/undraw_two_factor_authentication_namy.png">
                            <p class="text-dark">Developed & Maintained By <a href="https://www.recombd.com"
                                    target="_blank">
                                    <i>Recom Consulting Limited</i></a>
                            </p>
                        </div>
                    </div>
                    <div class="col-md-5 loginform">
                        <div class="justify-content-center" *ngIf="barcodeImageUrl != null && barcodeImageUrl !=''">
                            <p class="alert alert-info p-1 mb-1">
                                Now you have to Scan this QR code by Google Authenticator app, installed in your
                                smartphone.
                                If not installed, please find this app to Playstore.
                            </p>
                        </div>
                        <div class="justify-content-center" *ngIf="barcodeImageUrl != null && barcodeImageUrl !=''">
                            <img [src]="barcodeImageUrl" width="100" height="100" *ngIf="barcodeImageUrl != null"
                                title="Please scan this through google authenticator app" />
                            <i class="fa fa-stop fa-5x" *ngIf="barcodeImageUrl == null"></i>
                        </div>
                        <div class="justify-content-center mt-2"
                            *ngIf="barcodeImageUrl != null && barcodeImageUrl !='' && setupCode != ''">
                            <p class="alert alert-light p-1 mb-1">Setup Key: <b>{{ setupCode }}</b></p>
                        </div>
                        <div class="justify-content-center" *ngIf="barcodeImageUrl === '' && setupCode === ''">
                            <p class="alert alert-info mb-1">
                                Google Authenticator was successfully set up for this site.
                                You can find this site listed in your Google Authenticator app.
                                Please check the App and find the Code to type here for successfull login
                            </p>
                        </div>
                        <div class="justify-content-center">
                            <p class="mb-0 font-bold">-OR-</p>
                        </div>
                        <form [formGroup]="form" (ngSubmit)="onSubmit()">
                            <div class="form-row">
                                <div class="border border-size-sm p-2">
                                    <div class="form-group col-md-12 col-sm-12 col-lg-12">
                                        <div class="input-group">
                                            <div class="bg-warning p-2 border-radius-5 text-dark">
                                                If you're having trouble with <strong>Google Authenticator
                                                    Apps</strong>,
                                                Here's a simpler
                                                alternative:
                                                Send the code to your email.
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group col-md-12 col-sm-12 col-lg-12 mb-0">
                                        <div class="input-group justify-content-center">
                                            <div class="input-group-prepend" (click)="sendEmail()">
                                                <span
                                                    class="input-group-addon border-radius-5 justify-content-center cursor-pointer bg-info">
                                                    Click to get code via email
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group col-md-12 col-sm-12 col-lg-12 mt-2">
                                    <div class="input-group">
                                        <input type="text" formControlName="codeDigit"
                                            placeholder="Enter Google Auth code or Email code"
                                            class="form-control text-white mb-0 pr-0" />
                                        <div class="input-group-prepend" (click)="onSubmit()" title="Click To Send">
                                            <span class="input-group-addon text-dark cursor-pointer">
                                                <i class="fa fa-send"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
