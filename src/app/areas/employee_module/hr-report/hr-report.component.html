<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-12">
        <h2 class="mt-2">HR Report</h2>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <strong>HR</strong>
            </li>
            <li class="breadcrumb-item">
                <strong>Employee</strong>
            </li>
            <li class="breadcrumb-item active">
                <strong>HR Report</strong>
            </li>
        </ol>
    </div>
</div>
<div class="wrapper wrapper-content pt-3">
    <div class="row m-t-sm mt-0">
        <div class="col-md-12 mb-4 text-x-small pl-0 pr-0">
            <div class="tabs-container">
                <ul class="nav nav-tabs">
                    <li>
                        <a href="#report" data-toggle="tab" class="nav-link active">
                            <i class="fa fa-file"></i> | Report
                        </a>
                    </li>
                    <li>
                        <a href="#letter" data-toggle="tab" class="nav-link">
                            <i class="fa fa-envelope"></i> | Letter
                        </a>
                    </li>                  
                </ul>
                <div class="tab-content">
                    <div id="report" class="tab-pane active">
                        <div class="panel-body bg-white pb-1">
                            <div class="form-row">
                                <div class="form-group mb-1 col-md-6 col-sm-12">
                                    <label for="reportsName" class="control-label">Report's Name</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-addon">
                                                <i class="fa fa-bars" aria-hidden="true"></i>
                                            </span>
                                        </div>
                                        <select name="reportsName" id="reportsName" class="form-control form-control-sm"
                                            #reportsNameRef="ngModel" [(ngModel)]="reportsName" (change)="reportsName_changed()">
                    
                                            <option [value]="''" selected>Select Report</option>
                                            <option [value]="item" *ngFor="let item of ddlReportsName">
                                                {{ item }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group mb-1 col-md-6 col-sm-12">
                                    <div class="clearfix">
                                        <button type="button"
                                            class="btn btn-sm btn-success btn-rounded btn-outline mr-1 pull-right ml-1 mt-4"
                                            (click)="downloadReports()">
                                            <i class="fa fa-download"></i> | Download
                                        </button>
                                    </div>
                                </div>                    
                                <div class="col-md-12 text-x-small font-bold" *ngIf="reportsName != ''">
                                    <div class="ibox-content">
                                        <div class="form-row">
                                            <div class="form-group col-md-6 col-sm-12 mb-2"
                                                *ngIf="reportsName == 'New Joiner Report' || reportsName == 'Confirmation Report'">
                                                <label for="employeeId" class="control-label font-bold">Employee</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-addon text-dark">
                                                            <i class="fa fa-users"></i>
                                                        </span>
                                                    </div>
                                                    <div style="width: 80%;">
                                                        <ng-select2 [data]="ddlEmployee" name="employeeId" #employeeIdRef="ngModel"
                                                            id="employeeId" [placeholder]="'Select Employee...'" [options]="select2Options"
                                                            [allowClear]="true" [(ngModel)]="employeeId" required>
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-6 col-sm-12 mb-2"
                                                *ngIf="reportsName == 'New Joiner Report' || reportsName == 'Confirmation Report'">
                                                <label for="dateRange" class="control-label font-bold">Date Range</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-addon text-dark">
                                                            <i class="fa fa-calendar"></i>
                                                        </span>
                                                    </div>
                                                    <input type="text" name="dateRange" id="dateRange" #dateRangeRef="ngModel"
                                                        [(ngModel)]="dateRange" class="form-control form-control-sm bg-white"
                                                        placeholder="Enter Date Range" bsDaterangepicker [bsConfig]="datePickerConfig"
                                                        readonly>
                                                    <div class="input-group-prepend cursor-pointer" [hidden]="this.dateRange.length == 0"
                                                        (click)="[this.dateRange =[]]">
                                                        <span class="input-group-addon text-danger">
                                                            <i class="fa fa-times"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="letter" class="tab-pane">                        
                        <div class="panel-body bg-white pb-1">
                            <div class="form-row">
                                <div class="form-group mb-1 col-md-6 col-sm-12">
                                    <label for="lettersName" class="control-label">Letter's Name</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-addon">
                                                <i class="fa fa-bars" aria-hidden="true"></i>
                                            </span>
                                        </div>
                                        <select name="lettersName" id="lettersName" class="form-control form-control-sm"
                                            #reportsNameRef="ngModel" [(ngModel)]="lettersName" (change)="lettersName_changed()">
                        
                                            <option [value]="''" selected>Select Letter</option>
                                            <option [value]="item" *ngFor="let item of ddlLettersName">
                                                {{ item }}</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group mb-1 col-md-6 col-sm-12">
                                    <div class="clearfix">
                                        <button type="button" class="btn btn-sm btn-success btn-rounded btn-outline mr-1 pull-right ml-1 mt-4"
                                            (click)="downloadLetters()">
                                            <i class="fa fa-download"></i> | Download
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-12 text-x-small font-bold" *ngIf="lettersName != ''">
                                    <div class="ibox-content">
                                        <div class="form-row">
                                            <div class="form-group col-md-4 col-sm-12 mb-2"
                                                *ngIf="lettersName == 'Employment Certificate' || lettersName == 'Confirmation of Service'">
                                                <label for="employeeId" class="control-label font-bold">Employee <span
                                                        class="text-danger">*</span></label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-addon text-dark">
                                                            <i class="fa fa-users"></i>
                                                        </span>
                                                    </div>
                                                    <div style="width: 80%;">
                                                        <ng-select2 [data]="ddlEmployee" name="employeeId" #employeeIdRef="ngModel"
                                                            id="employeeId" [placeholder]="'Select Employee...'" [options]="select2Options"
                                                            [allowClear]="true" [(ngModel)]="employeeId" required>
                                                        </ng-select2>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-4 col-sm-12 mb-2"
                                                *ngIf="lettersName == 'Employment Certificate' || lettersName == 'Confirmation of Service'">
                                                <label for="theDate" class="control-label"> Date <span class="text-danger">*</span></label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-addon text-dark">
                                                            <i class="fa fa-calendar"></i>
                                                        </span>
                                                    </div>
                                                    <input type="text" class="form-control form-control-sm bg-white" placeholder="Select Date"
                                                        [(ngModel)]="theDate" readonly bsDatepicker [bsConfig]="datePickerConfig" id="theDate"
                                                        name="theDate">
                                                    <div class="input-group-prepend cursor-pointer" (click)="clearTheDate()">
                                                        <span class="input-group-addon text-danger" *ngIf="theDate !== null && theDate !== ''">
                                                            <i class="fa fa-times"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-4 col-sm-12 mb-2"
                                                *ngIf="lettersName == 'Employment Certificate' || lettersName == 'Confirmation of Service'">
                                                <label for="rptFormat" class="control-label font-bold">Format <span
                                                        class="text-danger">*</span></label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-addon text-dark">
                                                            <i class="fa fa-files-o"></i>
                                                        </span>
                                                    </div>
                                                    <select name="rptFormat" id="rptFormat" class="form-control form-control-sm"
                                                        #rptFormatRef="ngModel" [(ngModel)]="rptFormat" required>
                                                        <option [value]="''" selected>Select Format</option>
                                                        <option [value]="item" *ngFor="let item of ddlReportsFormat">
                                                            {{ item }}</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>                                
                </div>
            </div>
        </div>
    </div>
</div>

