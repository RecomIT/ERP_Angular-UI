<ng-template #leaveRequestApprovalModal let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">
            <i class="icofont-beach"></i> | Leave Request Approval
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="closeModal('Cross click')"><span
                aria-hidden="true">Ã—</span></button>
    </div>
    <div class="text-x-small font-bold text-dark">
        <div class="modal-body">
            <div class="row">
                <div class="col-12 col-md-4 col-sm-12">
                    <div class="activity-stream">
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-id"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Request ID</span>
                                    </a>
                                </div>
                                {{leaveRequestApprovalItem?.employeeLeaveCode}}
                            </div>
                        </div>
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-user"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Employee</span>
                                    </a>
                                </div>
                                {{leaveRequestApprovalItem?.employeeName}}
                            </div>
                        </div>
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="fa fa-briefcase"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Designation</span>
                                    </a>
                                </div>
                                {{leaveRequestApprovalItem?.designationName}}
                            </div>
                        </div>
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-beach"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Leave Type</span>
                                    </a>
                                </div>
                                {{leaveRequestApprovalItem?.leaveTypeName}}
                            </div>
                        </div>
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-wall-clock"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Day Leave Type </span>
                                    </a>
                                </div>
                                {{leaveRequestApprovalItem?.dayLeaveType}}
                            </div>
                        </div>
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-calendar"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>From-To Date</span>
                                    </a>
                                </div>
                                {{leaveRequestApprovalItem?.appliedFromDate | date:"dd MMM yyyy"}} -
                                {{leaveRequestApprovalItem?.appliedToDate | date:"dd MMM yyyy" }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-3 col-sm-12">
                    <div class="activity-stream">
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-sun"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Total Leave</span>
                                    </a>
                                </div>
                                {{leaveRequestApprovalItem?.appliedTotalDays}}
                            </div>
                        </div>
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-list"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Leave Purpose</span>
                                    </a>
                                </div>
                                {{leaveRequestApprovalItem?.leavePurpose}}
                            </div>
                        </div>
                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-opposite"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Status</span>
                                    </a>
                                </div>
                                <span class="label label-warning"
                                    *ngIf="leaveRequestApprovalItem?.stateStatus=='Pending'">{{leaveRequestApprovalItem.stateStatus
                                    + '...'}}</span>
                                <span class="label label-primary"
                                    *ngIf="leaveRequestApprovalItem?.stateStatus=='Approved'">
                                    <i class="fa fa-check"></i> {{leaveRequestApprovalItem?.stateStatus}}</span>
                                <span class="label label-danger"
                                    *ngIf="leaveRequestApprovalItem?.stateStatus=='Cancelled'"><i
                                        class="fa fa-times"></i>
                                    {{leaveRequestApprovalItem?.stateStatus}}</span>
                                <span class="label label-info"
                                    *ngIf="leaveRequestApprovalItem?.stateStatus=='Recheck'"><i
                                        class="fa fa-backward"></i> {{leaveRequestApprovalItem?.stateStatus}}</span>
                                <span class="label label-info"
                                    *ngIf="leaveRequestApprovalItem.stateStatus=='Recommended'"><i
                                        class="fa fa-check"></i> {{leaveRequestApprovalItem.stateStatus}}</span>
                            </div>
                        </div>

                        <div class="stream pb-0">
                            <div class="stream-badge">
                                <i class="icofont-check"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Recommended By</span>
                                        <p class="text-dark font-bold">
                                            {{leaveRequestApprovalItem?.checkerInfo}}
                                        </p>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="stream pb-0"
                            *ngIf="leaveRequestApprovalItem?.checkRemarks != null && leaveRequestApprovalItem?.checkRemarks !=''">
                            <div class="stream-badge">
                                <i class="icofont-comment"></i>
                            </div>
                            <div class="stream-panel">
                                <div class="stream-info">
                                    <a class="text-info">
                                        <span>Comment</span>
                                    </a>
                                    <p class="text-dark font-bold">
                                        {{leaveRequestApprovalItem?.checkRemarks}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-5 col-sm-12"
                    *ngIf="employeeLeaveBalance != null && employeeLeaveBalance.length > 0">
                    <div class="form-row">
                        <div class="form-group col-12 col-md-12 col-sm-12">
                            <div class="border-section">
                                <div class="border-label">Employee Balance(s)</div>
                                <div class="table-responsive">
                                    <table class="table table-sm table-hover table-striped">
                                        <thead>
                                            <tr>
                                                <th>Leave Type</th>
                                                <th>Allocated</th>
                                                <th>Applied</th>
                                                <th>Balance</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let item of employeeLeaveBalance, let i =index">
                                                <td>{{item?.leaveTypeName}}</td>
                                                <td class="text-center">{{item?.allocated}}</td>
                                                <td class="text-center">{{item?.applied}}</td>
                                                <td class="text-center">{{item?.balance}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-body pt-0 text-x-small font-bold text-dark">
        <form #leaveRequestApproavalForm="ngForm"
            (submit)="submit(leaveRequestApproavalForm,remarks.value,checkStatus.value)">
            <div class="form-row border-top">
                <div class="form-group offset-md-6 col-md-6 col-sm-12 mt-1">
                    <div class="input-group">
                        <input type="text" name="checkRemarks" #remarks id="checkRemarks" required
                            class="form-control form-control-sm" placeholder="Write Comments Here..">
                        <div class="input-group-prepend">
                            <select name="checkStatus" #checkStatus id="checkStatus"
                                class="form-control form-control-sm" required>
                                <option value="Approved">Approved</option>
                                <option value="Rejected">Rejected</option>
                            </select>
                        </div>
                        <div class="input-group-prepend">
                            <button type="submit" class="btn btn-sm btn-primary"
                                [disabled]="leaveRequestApproavalForm.invalid || btnLeaveRequestApproval">
                                <i class="fa fa-paper-plane"></i> | Submit
                                <span [hidden]="!btnLeaveRequestApproval" class="spinner-border spinner-border-sm"
                                    role="status" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</ng-template>