

<ng-template #quarterlyIncentiveProcessDetailsModal let-modal >
    <div [ngClass]="customModalBodyClass">
        <div class="modal-header">

            <h4 class="modal-title" id="modal-basic-title">
                <i class="btn btn-sm btn-success btn-circle 
                fa fa-clock-o"></i>| Quarterly Incentive Process Details
            </h4>
    
            <button type="button" class="close" aria-label="Close" (click)="closeQuarterlyIncentiveProcessModal('Cross click')"><span
                    aria-hidden="true">Ã—</span>
            </button>
    
            
        </div>
    
        <div class="text-x-small font-bold text-dark">
            <div class="modal-body">

                <div class="" id="page-container">
                    <div class="ibox">
                        <div class="ibox-content text-x-small">

                            <div class="form-row mb-3 shadow p-2">
                                <div class="col-sm-6">
                                    <div class="input-group">
                                        <input type="text" class="form-control form-control-sm 
                                font-bold search-box" placeholder="Search By Anything" id="detailsFilter"
                                            onkeyup="tableFilter('#tblDetails tbody tr',this)" />
                                        <div class="input-group-prepend">
                                            <span class="input-group-addon"><i class="fa fa-search"></i></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
            

                            <div class="table-responsive shadow-lg p-2">
                                <table class="table table-sm table-hover table-striped table-responsive-xl" id="tblDetails">
                                     <thead>
                                         <tr class="text-center">
                                 
                                             <th class="text-center">Employee Code</th>
                                             <th class="text-center">Name</th>
                                             <th class="text-center">Designation</th>
                                             <th class="text-center">Department</th>
                                             <th class="text-center">Eligible Quarterly Incentive</th>
                                             <th class="text-center">Total KPI Company Score</th>
                                             <th class="text-center">Total KPI Divisional/Individual Score</th>
                                             <th class="text-center">Quarterly Incentive Tax</th>
                                             <th class="text-center">Total Deduction</th>                  
                                             <th class="text-center">Net Pay</th>
                                             <th class="text-center">Action</th>
                                         </tr>
                                     </thead>
                                     <tbody *ngIf="listOfQuarterlyIncentiveDetails && listOfQuarterlyIncentiveDetails.length > 0">
                                         <tr *ngFor="let item of listOfQuarterlyIncentiveDetails;"> 
                                       
                                             <td class="text-center">{{item.EmployeeCode}}</td>
                                             <td class="text-center">{{item.EmployeeName}}</td>
                                             <td class="text-center">{{item.Designation}}</td>
                                             <td class="text-center">{{item.Department}}</td>
                                             <td class="text-center">{{item.EligibleQuarterlyIncentive}}</td>

                                             <td class="text-center">{{item.TotalKpiAchievementScore}}</td>
                                             <td class="text-center">{{item.TotalKpiCompanyScore}}</td>
                                             <td class="text-center">{{item.QuarterlyIncentiveTax}}</td>
                                             <td class="text-center">{{item.TotalDeduction}}</td> 
                                             <td class="text-center">{{item.NetPay}}</td>
                                               
                                             <td class="text-center">
                                                 <div class="btn-group" role="group" >
             
                                                     <button *ngIf="item.IsDisbursed != 1 && item.Status !=0" type="button" class="btn btn-sm text-success" title="Edit" (click)="openQuarterlyIncentiveProcessDetailsUpdateModal(item?.QuarterlyIncentiveProcessDetailId)">
                                                         <i class="fa fa-pencil" aria-hidden="true"></i>
                                                     </button>
             
                                                     <button *ngIf="item.IsDisbursed != 1 && item.Status !=0" type="button" class="btn btn-sm text-danger" title="Delete" (click)="openQuarterlyIncentiveProcessDetailsDeleteModal(item?.QuarterlyIncentiveProcessDetailId
                                                     )">
                                                         <i class="fa fa-trash" aria-hidden="true"></i>
                                                     </button>
             
                                                     <button *ngIf="item.Status !=0" type="button" class="btn btn-sm text-info" (click)="openQuarterlyIncentiveProcessDetailsViewModal(item?.QuarterlyIncentiveProcessDetailId
                                                     )" title="Details">
                                                         <i class="fa fa-eye" aria-hidden="true"></i>
                                                     </button>
             
                                                 </div>
                                             </td>
                                             
                                         </tr>
                                     </tbody>
                                 </table>
                 
                             </div>

                        </div>
                    </div>
                </div>




            </div>
             <div class="modal-footer">

                <button class="btn btn-sm btn-danger btn-rounded shadow-lg" type="button" (click)="closeQuarterlyIncentiveProcessModal('Close Click')">
                    <i class="fa fa-times"></i> | Cancel
                </button>
                
            </div>
        </div>
    </div>
</ng-template>





<ng-container *ngIf="showQuarterlyIncentiveProcessDetailsViewOrDeleteModal">
    <app-quarterly-incentive-process-details-view-or-delete 
    [quarterlyProcessDetailsId]="quarterlyProcessDetailsId" 
    [flag]="flag"
    (closeModalEvent)="closeQuarterlyIncentiveProcessDetailsViewOrDeleteModal($event)"
    (refresh)="refresh()"
    >
    </app-quarterly-incentive-process-details-view-or-delete>
</ng-container>